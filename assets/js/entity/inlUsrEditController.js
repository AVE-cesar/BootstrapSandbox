//
// Source code generated by Celerio, a Jaxio product.
// Documentation: http://www.jaxio.com/documentation/celerio/
// Follow us on twitter: @jaxiosoft
// Need commercial support ? Contact us: info@jaxio.com
// Template pack-custom:angularjs/assets/js/entity/EntityEditController.e.vm.js
//

					
									
									
						
				
app.controller("InlUsrEditController", ["$scope", "$window",  
"$log", "InlUsrRestService", 
		"InlUsrRestInvRelationService", "item", "mode", function(scope, window, log, 
		inlUsrRestService, 
					inlUsrRestInvRelationService, item, mode) {
	
	log.info("inside InlUsrEditController, mode: " + mode);
	log.info("inside InlUsrEditController, item: " + item);
	scope.mode = mode;
	scope.item = item;

				

	/** Clear item */
	scope.clear = function () {
			scope.item = null;
	};
	
	/** Creates or updates an item */
	scope.saveItem = function() {
		log.info("Creating or updating an item");
		
	
		if (scope.item.id != null) {
			// update mode
			console.log("update mode");
						inlUsrRestService.update(scope.item);
		} else {
			// creation mode
			console.log("creation mode");
			inlUsrRestService.save(scope.item);
		}
	};

	/** Removes one item or a list of items (selected ones) */
	scope.remove = function(item) {
		
		var r = confirm("Are you sure ?");
		if (r == true) {
			if (item) {				
				// one item deletion mode
												inlUsrRestService.delete({id: item.id}, function success(data) {
					scope.clear();
					alert('item deleted');
				}, function failure(err) {
					alert('request failed');
				});
			}	
		}
	};

}]);
