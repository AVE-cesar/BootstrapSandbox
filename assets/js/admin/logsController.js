//
// Source code generated by Celerio, a Jaxio product.
// Documentation: http://www.jaxio.com/documentation/celerio/
// Follow us on twitter: @jaxiosoft
// Need commercial support ? Contact us: info@jaxio.com
// Template pack-custom:angularjs/assets/js/admin/logsController.p.vm.js
//

/** main REST client for managing special Logs entity */
app.factory('LogsService', function ($resource) {
	return $resource('api/logs', {}, {
    	'findAll': { method: 'GET', isArray: true},
        'changeLevel': { method: 'PUT'}
    });
});

/** Controller dedicated to Logs entity management */    
app.controller('LogsController', function ($scope, LogsService) {
	
	/** loads all items from the server side by default */
    $scope.loggers = LogsService.findAll();
		
	/** updates logs level and refreshes the grid */	
    $scope.changeLevel = function (name, level) {
        LogsService.changeLevel({name: name, level: level}, function () {
            $scope.loggers = LogsService.findAll();
        });
    };
});